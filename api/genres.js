"use strict";
var express = require('express');
var router = express.Router();
var genres = [
    {
        id: 1,
        name: 'action',
        movies: [
            { id: 1, title: 'Die Hard' },
            { id: 2, title: 'Broken Arrow' }
        ]
    },
    {
        id: 2,
        name: 'science fiction',
        movies: [
            { id: 3, title: 'Star Wars' },
            { id: 4, title: 'Bladerunner' },
            { id: 5, title: 'Ex Machina' }
        ]
    },
    {
        id: 3,
        name: 'drama',
        movies: [
            { id: 6, title: 'The Godfather' },
            { id: 7, title: 'Training Day' }
        ]
    }
];
router.get('/genres', function (req, res, next) {
    var results = genres.map(function (genre) {
        return { id: genre.id, name: genre.name };
    });
    res.json(results);
});
router.get('/genres/:id', function (req, res, next) {
    var genreId = parseInt(req.params['id']);
    var genre = findGenre(genreId);
    if (genre) {
        res.json(genre);
    }
    else {
        res.sendStatus(404);
    }
});
function findGenre(id) {
    var matches = genres.filter(function (genre) {
        return genre.id == id;
    });
    return matches.length ? matches[0] : null;
}
module.exports = router;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VucmVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2VucmVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFPLE9BQU8sV0FBVyxTQUFTLENBQUMsQ0FBQztBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFOUIsSUFBSSxNQUFNLEdBQUc7SUFDWDtRQUNFLEVBQUUsRUFBQyxDQUFDO1FBQ0osSUFBSSxFQUFDLFFBQVE7UUFDYixNQUFNLEVBQUU7WUFDTixFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLFVBQVUsRUFBQztZQUN4QixFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLGNBQWMsRUFBQztTQUM3QjtLQUNGO0lBQ0Q7UUFDRSxFQUFFLEVBQUMsQ0FBQztRQUNKLElBQUksRUFBQyxpQkFBaUI7UUFDdEIsTUFBTSxFQUFFO1lBQ04sRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxXQUFXLEVBQUM7WUFDekIsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxhQUFhLEVBQUM7WUFDM0IsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxZQUFZLEVBQUM7U0FDM0I7S0FDRjtJQUNEO1FBQ0UsRUFBRSxFQUFDLENBQUM7UUFDSixJQUFJLEVBQUMsT0FBTztRQUNaLE1BQU0sRUFBRTtZQUNOLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsZUFBZSxFQUFDO1lBQzdCLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsY0FBYyxFQUFDO1NBQzdCO0tBQ0Y7Q0FFRixDQUFDO0FBR0YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsVUFBUyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUk7SUFDM0MsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFDLEtBQUs7UUFDN0IsTUFBTSxDQUFDLEVBQUMsRUFBRSxFQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsQ0FBQztJQUNILEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDcEIsQ0FBQyxDQUFDLENBQUM7QUFHSCxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxVQUFTLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtJQUMvQyxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ1YsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQztBQUVILG1CQUFtQixFQUFTO0lBQzFCLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUFLO1FBQ2hDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUN4QixDQUFDLENBQUMsQ0FBQztJQUNILE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUM7QUFDeEMsQ0FBQztBQUVELGlCQUFTLE1BQU0sQ0FBQyJ9